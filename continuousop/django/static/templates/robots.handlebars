{{outlet client}}

<div class="heading"><img src="static/img/wg-logo.png" class="headingimg"> Robot Lobby</div>

<!-- Eureka!! When I use 'client' below, I am referring to the 'client' outlet above
     and the reference I get is to the view object that is attached to that outlet  -->
{{#if client.controller.content.isLoggedIn}}
<div class="content_heading">My robots</div>
{{else}}
<div class="content_heading">Public robots</div>
{{/if}}

<div class="robot_list">
{{#if content.isLoaded}}
	{{#each robot in content}}

		<div class="robot" {{action showRobot robot}}>
			<img {{bindAttr src="robot.image"}} width="100"><br>
			<span class="name">{{robot.name}}</span><br>
			<span {{bindAttr class="robot.status.class"}}>{{robot.status.value}}</span><br>
		</div>

	{{/each}}
{{else}}
	<div class="loading">
		<img src="static/img/spinnerLarge.gif"><br>
		Loading...
	</div>
{{/if}}
</div>
