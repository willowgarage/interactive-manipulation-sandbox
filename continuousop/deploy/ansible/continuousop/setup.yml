---

# The playbooks must run before the continuousop tasks as they depend on
# certain directories being set up (like supervisor).
- include: ../developer_tools/setup.yml
- include: ../mysql/setup.yml
- include: ../django/setup.yml
- include: ../nginx/setup.yml
- include: ../gunicorn/setup.yml
- include: ../supervisor/setup.yml

- name: set up the continuousop app
  hosts: webservers
  sudo: True

  tasks:
    - include: tasks/setup.yml

  handlers:
    - include: ../supervisor/handlers/main.yml
    - include: ../nginx/handlers/main.yml
    - include: handlers/main.yml

